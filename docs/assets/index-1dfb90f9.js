import{d as U,r as m,a as B,o as T,c as $,b as e,w as l,E as z,e as N,f as M,g as j,h as r,i as O,j as _,k as P,l as h,m as q,n as A,p as G,_ as H}from"./index-2984dec7.js";import{s as J}from"./el-message-7e94a6a9.js";/* empty css                       */import{g as K,d as L,a as Q,s as R}from"./index-bc51e55b.js";const S=c=>J.post("/mall/sms-flash-promotion/add",c),W={class:"con"},X={class:"dialog-footer"},Y=U({__name:"index",setup(c){const f=m([]),V=m(0),k=B({current:1,size:10}),n=m(!1),y=s=>{try{L(s),_.success("删除成功"),i()}catch(a){console.error(a),_.error("删除失败,请重试")}},D=async s=>{const a=await Q(s);n.value=!0,o.value=a.data.help},i=async()=>{const s=await K(k);f.value=s.data.page.records,V.value=s.data.page.total},o=m({title:"",status:0,endDate:"",startDate:""}),g=async s=>{s.id?await R(o.value)&&(n.value=!1,_.success("提交成功"),i()):await S(o.value)&&(n.value=!1,_.success("提交成功"),i())},w=()=>{n.value=!0},C=()=>{n.value=!1};return T(()=>{i()}),(s,a)=>{const u=z,d=P,E=N,v=h,p=q,b=A,x=G,F=M;return j(),$("div",W,[e(u,{onClick:w},{default:l(()=>[r("新增")]),_:1}),e(E,{data:f.value,stripe:"",style:{width:"100%"}},{default:l(()=>[e(d,{prop:"id",label:"ID"}),e(d,{prop:"status",label:"上下线状态"}),e(d,{prop:"title",label:"秒杀时间段名称"}),e(d,{prop:"startDate",label:"开始日期"}),e(d,{prop:"endDate",label:"结束日期"}),e(d,null,{default:l(t=>[e(u,{link:"",type:"primary",size:"small",onClick:I=>y(t.row)},{default:l(()=>[r("删除")]),_:2},1032,["onClick"]),e(u,{link:"",type:"primary",size:"small",onClick:I=>D(t.row)},{default:l(()=>[r("修改")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(F,{modelValue:n.value,"onUpdate:modelValue":a[6]||(a[6]=t=>n.value=t),title:"Tips",width:"30%"},{footer:l(()=>[O("span",X,[e(u,{type:"primary",onClick:a[4]||(a[4]=t=>g(o.value))},{default:l(()=>[r("提交")]),_:1}),e(u,{onClick:a[5]||(a[5]=t=>C())},{default:l(()=>[r("取消")]),_:1})])]),default:l(()=>[e(x,{model:o.value,"status-icon":"","label-width":"120px",class:"demo-ruleForm"},{default:l(()=>[e(p,{label:"秒杀时间段名称"},{default:l(()=>[e(v,{modelValue:o.value.title,"onUpdate:modelValue":a[0]||(a[0]=t=>o.value.title=t)},null,8,["modelValue"])]),_:1}),e(p,{label:"上下线状态"},{default:l(()=>[e(v,{modelValue:o.value.status,"onUpdate:modelValue":a[1]||(a[1]=t=>o.value.status=t)},null,8,["modelValue"])]),_:1}),e(p,{label:"开始日期"},{default:l(()=>[e(b,{modelValue:o.value.startDate,"onUpdate:modelValue":a[2]||(a[2]=t=>o.value.startDate=t),type:"date",placeholder:"选择时间","default-value":new Date(2010,9,1)},null,8,["modelValue","default-value"])]),_:1}),e(p,{label:"结束日期"},{default:l(()=>[e(b,{modelValue:o.value.endDate,"onUpdate:modelValue":a[3]||(a[3]=t=>o.value.endDate=t),type:"date",placeholder:"选择时间","default-value":new Date(2010,9,1)},null,8,["modelValue","default-value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});const le=H(Y,[["__scopeId","data-v-247a709d"]]);export{le as default};
